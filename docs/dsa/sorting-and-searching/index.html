<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Vikrant Mehta">
<meta name="dcterms.date" content="2024-10-03">

<title>Sorting and Searching â€“ Vikrant</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<link href="../../site_libs/quarto-contrib/fontawesome6-0.1.0/all.css" rel="stylesheet">
<link href="../../site_libs/quarto-contrib/fontawesome6-0.1.0/latex-fontsize.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-CKDPXJ4Y38"></script>

<script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-CKDPXJ4Y38', { 'anonymize_ip': true});
</script>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
<link href="https://fonts.googleapis.com/css2?family=Sofia&amp;family=WindSong:wght@400;500&amp;display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-sidebar docked nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Vikrant</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../index.html"> 
<span class="menu-text">Blog</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../projects.html"> 
<span class="menu-text">Projects</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="../../dsa/index.html" aria-current="page"> 
<span class="menu-text">DSA</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://www.linkedin.com/in/vikrant-mehta/"> <i class="bi bi-linkedin" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/vikrantmehta123"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://leetcode.com/u/vikrantmehta123/"> <i class="bi bi-code" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://lichess.org/@/vikrant-123"> 
<span class="menu-text"><i class="fa-solid fa-chess-queen" aria-label="chess-queen"></i></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../../dsa/index.html">Leet Coding Using Python</a></li><li class="breadcrumb-item"><a href="../../dsa/sorting-and-searching/index.html">Sorting and Searching</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../../dsa/index.html">Leet Coding Using Python</a></li><li class="breadcrumb-item"><a href="../../dsa/sorting-and-searching/index.html">Sorting and Searching</a></li></ol></nav>
      <h1 class="title">Sorting and Searching</h1>
                                <div class="quarto-categories">
                <div class="quarto-category">DSA</div>
                <div class="quarto-category">Sorting and Searching</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta column-body">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Vikrant Mehta </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">October 3, 2024</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto">
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../dsa/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Leet Coding Using Python</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../dsa/sorting-and-searching/index.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Sorting and Searching</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../dsa/linked-lists-stacks-and-queues/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Stacks, Queues, Linked Lists, and Arrays</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../dsa/graphs/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Graphs: BFS &amp; DFS</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../dsa/shortest-paths-and-mcst/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Shortest Paths and Minimum Cost Spanning Trees</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../dsa/heaps-and-trees/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Heaps and Trees</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../dsa/greedy/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Greedy</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../dsa/divide-and-conquer/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Divide and Conquer</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../dsa/dynamic-programming/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Dynamic Programming</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../dsa/string-matching/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">String Matching and Tries</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#longest-subsequence-with-limited-sum" id="toc-longest-subsequence-with-limited-sum" class="nav-link active" data-scroll-target="#longest-subsequence-with-limited-sum">1. Longest Subsequence With Limited Sum</a></li>
  <li><a href="#top-k-frequent-elements" id="toc-top-k-frequent-elements" class="nav-link" data-scroll-target="#top-k-frequent-elements">2. Top K Frequent Elements</a></li>
  <li><a href="#sort-colors" id="toc-sort-colors" class="nav-link" data-scroll-target="#sort-colors">3. Sort Colors</a></li>
  <li><a href="#merge-intervals" id="toc-merge-intervals" class="nav-link" data-scroll-target="#merge-intervals">4. Merge Intervals</a></li>
  <li><a href="#search-in-rotated-sorted-array" id="toc-search-in-rotated-sorted-array" class="nav-link" data-scroll-target="#search-in-rotated-sorted-array">5. Search in Rotated Sorted Array</a></li>
  <li><a href="#find-first-and-last-position-of-element-in-sorted-array" id="toc-find-first-and-last-position-of-element-in-sorted-array" class="nav-link" data-scroll-target="#find-first-and-last-position-of-element-in-sorted-array">6. Find First and Last Position of Element in Sorted Array</a></li>
  <li><a href="#find-k-closest-elements" id="toc-find-k-closest-elements" class="nav-link" data-scroll-target="#find-k-closest-elements">7. Find K Closest Elements</a></li>
  <li><a href="#check-if-n-and-its-double-exist" id="toc-check-if-n-and-its-double-exist" class="nav-link" data-scroll-target="#check-if-n-and-its-double-exist">8. Check If N and Its Double Exist</a></li>
  <li><a href="#h-index" id="toc-h-index" class="nav-link" data-scroll-target="#h-index">9. H-Index</a></li>
  <li><a href="#capacity-to-ship-packages-within-d-days" id="toc-capacity-to-ship-packages-within-d-days" class="nav-link" data-scroll-target="#capacity-to-ship-packages-within-d-days">10. Capacity to Ship Packages Within D Days</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block column-body" id="quarto-document-content">





<section id="longest-subsequence-with-limited-sum" class="level3">
<h3 class="anchored" data-anchor-id="longest-subsequence-with-limited-sum">1. <a href="https://leetcode.com/problems/longest-subsequence-with-limited-sum/description/">Longest Subsequence With Limited Sum</a></h3>
<p><strong>ðŸŽ¯ Understanding the Test Cases:</strong></p>
<p><em>Test Case 1:</em></p>
<p><code>nums = [4, 5, 2, 1], queries = [3, 10, 21]</code></p>
<p><em>Explanation:</em></p>
<p>For <code>queries[0] = 3</code>: The longest subsequence we can take from nums is <code>[2, 1]</code> because <span class="math inline">\(2 + 1 = 3\)</span>, which has 2 elements. So, the answer is 2. If we add any other element, the sum becomes greater than 3. Note that in a subsequence, you can drop certain elements but the relative order stays same.</p>
<p>For <code>queries[1] = 10</code>: We can take <code>[4, 2, 1]</code>, with a sum of <span class="math inline">\(7\)</span>, which has 3 elements. So, the answer is 3.</p>
<p>For <code>queries[2] = 21</code>: We can take the whole array <code>[4, 5, 2, 1]</code>, with a sum of 12, which has 4 elements. So, the answer is 4.</p>
<section id="brute-force" class="level4">
<h4 class="anchored" data-anchor-id="brute-force">1.1: Brute Force</h4>
<ul>
<li>To find out the maximum number of elements less than or equal to some number, just add the <em>smallest</em> numbers.</li>
<li>Sort the list first.</li>
<li>For every query in <code>queries</code>, find out how many elements can be added by iterating over the array <code>nums</code>.</li>
</ul>
<p>Time Complexity: <span class="math inline">\(O(m \cdot n)\)</span></p>
<details>
<summary>
<strong>Need help with implementation?</strong>
</summary>
<pre><code class="language-python">
class Solution(object):
    def answerQueries(self, nums: List[int], queries: List[int]) -&gt; List[int]:

        answer = [ 0 for i in range(len(queries))]
        nums.sort() # Sort so that adding smallest elements is easier

        for i in range(len(queries)):
            query = queries[i]
            index, count, total = 0, 0, 0
            
            # For every query, keep adding the smallest element to get the maximum number of 
            # elements whose total is less than or equal to that query
            while total &lt;= query and index &lt; len(nums):
                if total + nums[index] &gt; query:
                    answer[i] = count
                    break
                else:
                    total += nums[index]
                    index += 1
                    count += 1
            answer[i] = count
        return answer
</code>
</pre>
</details>
</section>
<section id="prefix-sum" class="level4">
<h4 class="anchored" data-anchor-id="prefix-sum">1.2 Prefix Sum</h4>
<p>Thereâ€™s an even better approach here. Thatâ€™s with <em>prefix sum</em>. You would pass the test cases with the brute force approach, but itâ€™s good to know this approach since itâ€™s a useful concept.</p>
<ul>
<li>Sort the list first.</li>
<li>Keep a <code>prefix_sum</code> array where <code>i</code>th element of it stores the sum of first <code>i</code> smallest elements. Notice that this array will be sorted.</li>
<li>For each <code>queries[i]</code>, use binary search on <code>prefix_sum</code> to find out the largest element less than equal to <code>queries[i]</code></li>
</ul>
<p>Itâ€™s a good exercise to see why this approach would produce correct result.</p>
<p>Time Complexity: <span class="math inline">\(O(n \cdot \log(n))\)</span></p>
<details>
<summary>
<strong>Need help with implementation?</strong>
</summary>
<pre><code class="language-python">
class Solution:
    def answerQueries(self, nums: List[int], queries: List[int]) -&gt; List[int]:
        answer = [0 for i in range(len(queries))] # O(n)
        nums.sort() # O(nlogn)
        prefix_sum = [ ] 

        # O(n)
        for i in range(len(nums)):
            prefix_sum.append(nums[0]) if i == 0 else prefix_sum.append(prefix_sum[i - 1] + nums[i])

        # O (m log n)
        for i in range(len(queries)): # O(m)
            query = queries[i]
            count = self.binarysearch(query, prefix_sum) #O(log n)
            answer[i] = count
        return answer

    def binarysearch( self,v, L):  #v = target element
        low, high = 0, len(L) - 1
        while low &lt;= high: 
            mid = (low + high) // 2
            if L[mid ] &lt; v:
                low = mid  + 1
            elif L[mid ] &gt; v:
                high = mid  - 1
            else:
                return mid + 1 # return the next index than where the element was found
        return low # Returns index where the element should go if not found
</code>
</pre>
</details>
</section>
</section>
<section id="top-k-frequent-elements" class="level3">
<h3 class="anchored" data-anchor-id="top-k-frequent-elements">2. <a href="https://leetcode.com/problems/top-k-frequent-elements/description/">Top K Frequent Elements</a></h3>
<p><strong>ðŸŽ¯ Understanding the Test Cases:</strong></p>
<p><em>Test Case 1:</em></p>
<p><code>nums= [ 1, 1, 1, 2, 2, 3], k = 2</code></p>
<p><em>Explanation:</em></p>
<p>In this test case, the number <span class="math inline">\(1\)</span> occurs thrice, the number <span class="math inline">\(2\)</span> occurs twice, and the number <span class="math inline">\(3\)</span> occurs once. Since we have to return top <span class="math inline">\(2\)</span> most frequent numbers, we return <span class="math inline">\(1\)</span> and <span class="math inline">\(2\)</span>. Important to note here is that the question says nothing about whether the <code>nums</code> array is sorted or not. If it is not explicitly given in the question, we cannot assume it.</p>
<section id="using-dictionaries-and-sorting" class="level4">
<h4 class="anchored" data-anchor-id="using-dictionaries-and-sorting">2.1 Using Dictionaries and Sorting</h4>
<ul>
<li>Initialize a dictionary. For every element in <code>nums</code>, you count occurrences of that element. We can do this in a single pass. Plus this has the added benefit of eliminating duplicates, which we will use later. A useful library class to explore here is: <code>from collections import Counter</code></li>
<li>For every unique element from the <code>nums</code> array, create a new 2D array where each element is of the format: <code>[element from nums, it's count]</code></li>
<li>Sort this array based on the counts in descending order.</li>
<li>Pick the first <code>k</code> elements.</li>
</ul>
<p>Time Complexity: <span class="math inline">\(O(m \cdot \log(m))\)</span>, where <span class="math inline">\(m\)</span> is the number of unique elements in <code>nums</code>.</p>
<details>
<summary>
<strong>Need help with implementation?</strong>
</summary>
<pre><code class="language-python">

class Solution:
    def topKFrequent(self, nums: List[int], k: int) -&gt; List[int]:
        counts = { } # init counts dictionary

        # count the number of occurrences for each element
        for num in nums: # O(n)
            if num in counts:
                counts[num] += 1 
            else:
                counts[num] = 1
        
        # [ [elem1, it's count], [elem2, it's count], [elem3, it's count] ]
        L = [[x, counts[x]] for x in counts.keys()] # O(m), where m = number of unique elems in nums

        # Sort in descending order based on counts
        L.sort(key=lambda x:x[1], reverse=True) # NOT O(n log n), it's O(m log m)!

        output = [ ]

        # O(k)
        # Pick out the top k elements. Note that we don't need counts. So we return L[i][0]
        for i in range(k):
            output.append(L[i][0])

        return output
</code>
</pre>
</details>
</section>
</section>
<section id="sort-colors" class="level3">
<h3 class="anchored" data-anchor-id="sort-colors">3. <a href="https://leetcode.com/problems/sort-colors/description/">Sort Colors</a></h3>
<p>This problem is similar to what is discussed in one the practice programming assignments for this week, and we need to solve this problem in <span class="math inline">\(O(n)\)</span> complexity.</p>
<section id="sort-the-nums-in-place" class="level4">
<h4 class="anchored" data-anchor-id="sort-the-nums-in-place">3.1 Sort the <code>nums</code> in place</h4>
<p>We can simply sort the array <code>nums</code> in place are return it. We can use <code>nums.sort()</code> for this. But the comlpexity for this will be: <span class="math inline">\(O(n \cdot \log (n))\)</span>. Can we do better?</p>
</section>
<section id="take-count-of-colors" class="level4">
<h4 class="anchored" data-anchor-id="take-count-of-colors">3.2 Take Count of Colors</h4>
<p>We know that there are only three distinct elements in the list. So can we count the occurrences for each distinct color element, and then replace the original array using these counts. For example, consider an array <code>nums = [ 2, 0, 2, 1, 1, 0, 1]</code>. We can keep a dictionary for counts as follows:</p>
<pre><code>counts[0] = 2
counts[1] = 3
counts[2] = 2</code></pre>
<p>Then for every color, we can replace <code>nums[i]</code> to <code>nums[i + count]</code> with the color.</p>
<p>Time Complexity: <span class="math inline">\(O(n)\)</span></p>
<details>
<summary>
<strong>Need help with implementation?</strong>
</summary>
<pre><code class="language-python">
class Solution:
    def sortColors(self, nums: List[int]) -&gt; None:
        counts = { 
            0 : 0, 
            1: 0, 
            2: 0
        }

        # O(n). Take counts for each color
        for i in range(len(nums)):
            counts[nums[i]] += 1

        index = 0

        # O(n). For each color, update the nums[i] to nums[i + count] to the color.
        for i in range(3):
            for count in range(counts[i]):
                nums[index] = i
                index += 1
</code>
</pre>
</details>
</section>
</section>
<section id="merge-intervals" class="level3">
<h3 class="anchored" data-anchor-id="merge-intervals">4. <a href="https://leetcode.com/problems/merge-intervals/description/">Merge Intervals</a></h3>
<p><strong>ðŸŽ¯ Understanding the Test Cases:</strong></p>
<p><em>Test Case 1:</em></p>
<p><code>intervals = [[1,3], [2,6], [8,10], [15,18]]</code></p>
<p><em>Explanation:</em></p>
<p>We start with the first interval <code>[1, 3]</code>. The next interval <code>[2, 6]</code> overlaps with <code>[1, 3]</code>, so we merge them into <code>[1, 6]</code>. The next interval <code>[8, 10]</code> doesnâ€™t overlap with <code>[1, 6]</code>, so we keep it as is. The last interval <code>[15, 18]</code> also doesnâ€™t overlap with any previous intervals, so we keep it as is.</p>
<p><em>Test Case 2:</em></p>
<p><code>intervals = [[1, 4], [2, 3], [5, 10]]</code></p>
<p><em>Explanation:</em></p>
<p>We start with the first interval <code>[1, 4]</code>. The next interval <code>[2, 3]</code> overlaps with <code>[1, 4]</code>. But note that the first interval subsumes this one. So the merged interval is: <code>[1, 4]</code></p>
<p>The last interval <code>[5, 10]</code> doesnâ€™t overlap with any previous intervals so we keep it as it is.</p>
<section id="sorting-intervals" class="level4">
<h4 class="anchored" data-anchor-id="sorting-intervals">4.1 Sorting intervals</h4>
<ul>
<li><p>If we want to merge intervals, it would be easier if overlapping intervals come adjacently in the input list, which meansâ€¦ Sorting!</p></li>
<li><p>Sort based on the start of the interval.</p></li>
<li><p>For every interval, check whether start of the interval falls within the end of the merged interval</p></li>
<li><p>But we will need to consider the below corner cases:</p>
<ul>
<li>One interval subsumes another, then what? This means that the second intervalâ€™s end is smaller than the first. Such as: [1, 10] and [2, 5]</li>
<li>How do you handle last interval?</li>
</ul></li>
</ul>
<p>We also need to keep track of the start and the end of the merged intervals.</p>
<p>Time Complexity: <span class="math inline">\(O(n \cdot \log(n))\)</span></p>
<section id="code-implementation" class="level5">
<h5 class="anchored" data-anchor-id="code-implementation">ðŸ’» Code Implementation:</h5>
<div class="sourceCode" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Solution:</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> merge(<span class="va">self</span>, intervals: List[List[<span class="bu">int</span>]]) <span class="op">-&gt;</span> List[List[<span class="bu">int</span>]]:</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="kw">not</span> intervals:</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> []</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Sort intervals based on the start</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>        intervals.sort(key<span class="op">=</span><span class="kw">lambda</span> x: x[<span class="dv">0</span>])</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>        merged_intervals <span class="op">=</span> []</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>        current_start, current_end <span class="op">=</span> intervals[<span class="dv">0</span>]</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> interval <span class="kw">in</span> intervals[<span class="dv">1</span>:]:</span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>            <span class="co"># Overlapping intervals, merge them</span></span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> interval[<span class="dv">0</span>] <span class="op">&lt;=</span> current_end:</span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>                current_end <span class="op">=</span> <span class="bu">max</span>(current_end, interval[<span class="dv">1</span>]) <span class="co"># The max function is required to handle the 1st edge case</span></span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>            <span class="cf">else</span>:</span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>                <span class="co"># Non-overlapping interval found, add previous interval to result</span></span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>                merged_intervals.append([current_start, current_end])</span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a>                <span class="co"># Update current interval</span></span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a>                current_start, current_end <span class="op">=</span> interval</span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Add the last interval</span></span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true" tabindex="-1"></a>        merged_intervals.append([current_start, current_end])</span>
<span id="cb2-25"><a href="#cb2-25" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb2-26"><a href="#cb2-26" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> merged_intervals</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
</section>
<section id="search-in-rotated-sorted-array" class="level3">
<h3 class="anchored" data-anchor-id="search-in-rotated-sorted-array">5. <a href="https://leetcode.com/problems/search-in-rotated-sorted-array/description/">Search in Rotated Sorted Array</a></h3>
<p><strong>ðŸŽ¯ Understanding the Test Cases:</strong></p>
<p>This is a simple search problem, so the test cases are not discussed.</p>
<section id="using-binary-search" class="level4">
<h4 class="anchored" data-anchor-id="using-binary-search">5.1 Using Binary Search</h4>
<p>ðŸ“š <strong>Problem Overview:</strong></p>
<p>We need to find the element in <span class="math inline">\(\log(n)\)</span> time. When you see <span class="math inline">\(\log(n)\)</span>, what do you think of? Of course, Binary search! This question has been asked in PYQs, so better to understand it well.</p>
<p><strong>ðŸ’¡ The Solution:</strong></p>
<ol type="1">
<li>At any <code>mid</code> index, there are two possibilities: either the <em>left half</em> of the array is sorted, or the <em>right half</em> is.</li>
<li>If the <em>left side is sorted</em>:
<ul>
<li>Check if the target within this range?
<ul>
<li>If yes, do a binary search on the left half.</li>
<li>If no, explore the right half.</li>
</ul></li>
</ul></li>
<li>If the <em>right side is sorted</em>:
<ul>
<li>Again, check if the target is in this range.
<ul>
<li>If yes, perform binary search on the right half.</li>
<li>If no, explore to the left side.</li>
</ul></li>
</ul></li>
</ol>
<details>
<summary>
<strong>Need help with implementation?</strong>
</summary>
<pre><code class="language-python">

class Solution:
    def search(self, nums, target):
        left, right = 0, len(nums) - 1

        while left &lt;= right:
            mid = (left + right) // 2
            
            # If the target is found
            if nums[mid] == target:
                return mid
            
            # Check if the left half is sorted
            if nums[left] &lt;= nums[mid]:
                # If the target lies within the sorted left half
                if nums[left] &lt;= target &lt; nums[mid]:
                    right = mid - 1
                else:
                    left = mid + 1
            # Otherwise, the right half is sorted
            else:
                # If the target lies within the sorted right half
                if nums[mid] &lt; target &lt;= nums[right]:
                    left = mid + 1
                else:
                    right = mid - 1
        
        # If the target is not found
        return -1
</code>
</pre>
</details>
</section>
</section>
<section id="find-first-and-last-position-of-element-in-sorted-array" class="level3">
<h3 class="anchored" data-anchor-id="find-first-and-last-position-of-element-in-sorted-array">6. <a href="https://leetcode.com/problems/find-first-and-last-position-of-element-in-sorted-array/description/">Find First and Last Position of Element in Sorted Array</a></h3>
<p><strong>ðŸŽ¯ Understanding the Test Cases:</strong></p>
<p><em>Test Case 1:</em></p>
<p><code>nums = [5,7,7,8,8,8,10], target = 8</code></p>
<p><em>Explanation:</em></p>
<p>We need to find the starting and ending indices of the target number 8. In this case, 8 appears three times, so we return the range [3, 5], where index 3 is the first occurrence and index 5 is the last.</p>
<section id="using-binary-search-1" class="level4">
<h4 class="anchored" data-anchor-id="using-binary-search-1">6.1 Using Binary Search</h4>
<p>ðŸ“š <strong>Problem Overview:</strong></p>
<p>Again, we need a <span class="math inline">\(\log(n)\)</span> solution. So, we think Binary Search to come up with a solution.</p>
<p><strong>ðŸ’¡ The Solution:</strong></p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>We know binary search is fast, but it stops when we find the target. What if we keep going to find both the first and last occurrences?</p>
</div>
</div>
<p>Hereâ€™s how we can do it:</p>
<p><em>Leftmost Occurrence:</em></p>
<ul>
<li>Run a binary search, but when you find 8, donâ€™t stop! Keep searching the left half to find the first occurrence.</li>
</ul>
<p><em>Rightmost Occurrence:</em></p>
<ul>
<li>Similar idea, but now after finding 8, explore the right half to find the last occurrence.</li>
</ul>
<p>By running two binary searches, we find both boundaries of the target range in <span class="math inline">\(O(\log n)\)</span> time.</p>
<details>
<summary>
<strong>Need help with implementation?</strong>
</summary>
<pre><code class="language-python">
class Solution:
    def searchRange(self, nums, target):
        def findLeft(nums, target):
            leftmost_occurrence = -1
            # Finds the left most index of target number
            left, right = 0, len(nums) - 1
            while left &lt;= right:
                mid = (left + right) // 2
                if nums[mid] &lt; target:
                    left = mid + 1
                elif nums[mid] == target:
                    leftmost_occurrence = mid
                    right = mid - 1
                else:
                    right = mid - 1
            return leftmost_occurrence
        
        def findRight(nums, target):
            # Finds rightmost index of target
            rightmost_occurrence = -1
            left, right = 0, len(nums) - 1
            while left &lt;= right:
                mid = (left + right) // 2
                if nums[mid] &lt; target:
                    left = mid + 1
                elif nums[mid] == target:
                    rightmost_occurrence = mid
                    left = mid + 1
                else:
                    right = mid - 1
            return rightmost_occurrence
        
        leftmost_occurrence = findLeft(nums, target)
        rightmost_occurrence = findRight(nums, target)
        
        # Check if the target is not found
        if leftmost_occurrence == -1:
            return [-1, -1]
        return [leftmost_occurrence, rightmost_occurrence]
</code>
</pre>
</details>
</section>
</section>
<section id="find-k-closest-elements" class="level3">
<h3 class="anchored" data-anchor-id="find-k-closest-elements">7. <a href="https://leetcode.com/problems/find-k-closest-elements/description/">Find K Closest Elements</a></h3>
<section id="code-implementation-1" class="level5">
<h5 class="anchored" data-anchor-id="code-implementation-1">ðŸ’» Code Implementation:</h5>
<div class="sourceCode" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Solution:</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> binarysearch(<span class="va">self</span>, nums, key):</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>        left, right <span class="op">=</span> <span class="dv">0</span>, <span class="bu">len</span>(nums) <span class="op">-</span> <span class="dv">1</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>        <span class="cf">while</span> left <span class="op">&lt;=</span> right:</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>            mid <span class="op">=</span> (left <span class="op">+</span> right) <span class="op">//</span> <span class="dv">2</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> nums[mid] <span class="op">==</span> key:</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>                <span class="cf">return</span> mid</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>            <span class="cf">elif</span> nums[mid] <span class="op">&gt;</span> key:</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>                right <span class="op">=</span> mid <span class="op">-</span> <span class="dv">1</span></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>            <span class="cf">else</span>:</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>                left <span class="op">=</span> mid <span class="op">+</span> <span class="dv">1</span></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> left</span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> findClosestElements(<span class="va">self</span>, arr: List[<span class="bu">int</span>], k: <span class="bu">int</span>, x: <span class="bu">int</span>) <span class="op">-&gt;</span> List[<span class="bu">int</span>]:</span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Find the element</span></span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>        searchindex <span class="op">=</span> <span class="va">self</span>.binarysearch(arr, x)</span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>        left, right <span class="op">=</span> searchindex<span class="op">-</span> <span class="dv">1</span>, searchindex</span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Edge cases- number is the first number in array or the last</span></span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> searchindex <span class="op">&lt;</span> <span class="dv">0</span>:</span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> arr[:k]</span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> searchindex <span class="op">&gt;</span> <span class="bu">len</span>(arr) <span class="op">-</span> <span class="dv">1</span>:</span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> arr[k:]</span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a>        L <span class="op">=</span> [ ]</span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Keep sliding the two pointers till you have "k" closest elems</span></span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true" tabindex="-1"></a>        <span class="cf">while</span> <span class="bu">len</span>(L) <span class="op">&lt;</span> k:</span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> left <span class="op">&lt;</span> <span class="dv">0</span> <span class="kw">and</span> right <span class="op">&lt;</span> <span class="bu">len</span>(arr):</span>
<span id="cb3-29"><a href="#cb3-29" aria-hidden="true" tabindex="-1"></a>                L.append(arr[right])</span>
<span id="cb3-30"><a href="#cb3-30" aria-hidden="true" tabindex="-1"></a>                right <span class="op">+=</span> <span class="dv">1</span></span>
<span id="cb3-31"><a href="#cb3-31" aria-hidden="true" tabindex="-1"></a>            <span class="cf">elif</span> right <span class="op">&gt;</span> <span class="bu">len</span>(arr) <span class="op">-</span> <span class="dv">1</span> <span class="kw">and</span> left <span class="op">&gt;=</span> <span class="dv">0</span>:</span>
<span id="cb3-32"><a href="#cb3-32" aria-hidden="true" tabindex="-1"></a>                L.append(arr[left])</span>
<span id="cb3-33"><a href="#cb3-33" aria-hidden="true" tabindex="-1"></a>                left <span class="op">-=</span> <span class="dv">1</span></span>
<span id="cb3-34"><a href="#cb3-34" aria-hidden="true" tabindex="-1"></a>            <span class="cf">else</span>:</span>
<span id="cb3-35"><a href="#cb3-35" aria-hidden="true" tabindex="-1"></a>                dist1 <span class="op">=</span> <span class="bu">abs</span>(arr[left] <span class="op">-</span> x)</span>
<span id="cb3-36"><a href="#cb3-36" aria-hidden="true" tabindex="-1"></a>                dist2 <span class="op">=</span> <span class="bu">abs</span>(arr[right] <span class="op">-</span> x)</span>
<span id="cb3-37"><a href="#cb3-37" aria-hidden="true" tabindex="-1"></a>                <span class="cf">if</span> dist1 <span class="op">&lt;=</span> dist2:</span>
<span id="cb3-38"><a href="#cb3-38" aria-hidden="true" tabindex="-1"></a>                    L.append(arr[left])</span>
<span id="cb3-39"><a href="#cb3-39" aria-hidden="true" tabindex="-1"></a>                    left <span class="op">-=</span> <span class="dv">1</span></span>
<span id="cb3-40"><a href="#cb3-40" aria-hidden="true" tabindex="-1"></a>                <span class="cf">else</span>:</span>
<span id="cb3-41"><a href="#cb3-41" aria-hidden="true" tabindex="-1"></a>                    L.append(arr[right])</span>
<span id="cb3-42"><a href="#cb3-42" aria-hidden="true" tabindex="-1"></a>                    right <span class="op">+=</span> <span class="dv">1</span></span>
<span id="cb3-43"><a href="#cb3-43" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="bu">sorted</span>(L)<span class="co"># Return the sorted "k" nums</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="check-if-n-and-its-double-exist" class="level3">
<h3 class="anchored" data-anchor-id="check-if-n-and-its-double-exist">8. <a href="https://leetcode.com/problems/check-if-n-and-its-double-exist/description/">Check If N and Its Double Exist</a></h3>
<p><strong>ðŸŽ¯ Understanding the Test Cases:</strong></p>
<p><em>Test Case 1:</em></p>
<p><code>arr = [10,2,5,3]</code></p>
<p><em>Explanation:</em></p>
<p>In this array, arr[2] = 5 is half of arr[0] = 10. Since theyâ€™re at different indices and one is double the other, we return <code>True</code>.</p>
<section id="using-binary-search-2" class="level4">
<h4 class="anchored" data-anchor-id="using-binary-search-2">8.1 Using Binary Search</h4>
<p>ðŸ“š <strong>Problem Overview:</strong></p>
<p>Weâ€™re looking to see if any number in the array has a double or half thatâ€™s also in the array. Binary Search can make this faster! Letâ€™s sort the array so we can search more efficiently.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Observe:
</div>
</div>
<div class="callout-body-container callout-body">
<p>If a number is odd, it canâ€™t have an integer half, so we can skip it!</p>
</div>
</div>
<section id="pseudocode" class="level5">
<h5 class="anchored" data-anchor-id="pseudocode">Pseudocode:</h5>
<ul>
<li><strong>Sort</strong> the array.</li>
<li>For each number in the array:
<ul>
<li>Check if itâ€™s odd or even.</li>
<li>If itâ€™s odd, move to the next one.</li>
<li>If itâ€™s even, binary search for its half.</li>
<li>If the half exists and indices are different, return True.</li>
</ul></li>
</ul>
</section>
</section>
<section id="question" class="level4 callout-info">
<h4 class="anchored" data-anchor-id="question">Question:</h4>
<p>Given this problem, can you think of a case where the indices of a number and itâ€™s double will be the same?</p>
</section>
<details>
<summary>
<strong>Need help with implementation?</strong>
</summary>
<pre><code class="language-python">

class Solution(object):
    def checkIfExist(self, arr:List[int]) -&gt; bool:
        arr.sort() # sort array first

        for i, num in enumerate(arr):
            # If value is odd, it's half can't exist
            if num % 2 != 0:
                continue

            # Search for num / 2 in the array
            idx = self.binarysearch(arr, num / 2)

            # If num / 2 was found and indices are different return True
            if i != idx and idx != -1: 
                return True
        
        # No pair was found
        return False
    
    def binarysearch(self, L, value): 
        low = 0
        high = len(L) - 1
        while low &lt;= high: 
            mid = (low + high) // 2
            if L[mid ] &lt; value:
                low = mid  + 1
            elif L[mid ] &gt; value:
                high = mid  - 1
            else:
                return mid # Found the value, so return the index at which the value was found
                
        return -1 # Couldn't find value
</code>
</pre>
</details>
</section>
<section id="h-index" class="level3">
<h3 class="anchored" data-anchor-id="h-index">9. <a href="https://leetcode.com/problems/h-index/description/">H-Index</a></h3>
<p><strong>ðŸŽ¯ Understanding the Test Cases:</strong></p>
<p>Please refer to the Leet Code discussion on test cases for an explanation of test cases.</p>
<section id="using-sorting" class="level4">
<h4 class="anchored" data-anchor-id="using-sorting">9.1 Using Sorting</h4>
<p>ðŸ“š <strong>Problem Overview:</strong></p>
<p>ðŸŽ¯ Whatâ€™s the Goal?</p>
<p>We want to find the maximum H-index for a researcher, where <code>H</code> is the highest number such that at least <code>H</code> papers have been cited at least <code>H</code> times. Letâ€™s look at the solution first, which we will unpack then.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Solution:</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> hIndex(<span class="va">self</span>, citations: List[<span class="bu">int</span>]) <span class="op">-&gt;</span> <span class="bu">int</span>:</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>        citations.sort(reverse<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> i, citation <span class="kw">in</span> <span class="bu">enumerate</span>(citations):</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> citation <span class="op">&lt;=</span> i: </span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>                <span class="cf">return</span> i</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="bu">len</span>(citations)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Letâ€™s unpack the code:</p>
<ul>
<li><p>We sort the <code>citations</code> array in descending order.</p></li>
<li><p>Loop Through Each Citation:</p>
<ul>
<li><code>i</code> is the count of papers with at least that many citations.</li>
<li>If <code>citation &lt;= i</code>, we return <code>i</code> as our H-index, because there are exactly <code>i</code> papers with at least <code>i</code> citations.</li>
</ul></li>
</ul>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>If this feels confusing, do spend some time in think about the <code>if</code> condition.</p>
</div>
</div>
</section>
</section>
<section id="capacity-to-ship-packages-within-d-days" class="level3">
<h3 class="anchored" data-anchor-id="capacity-to-ship-packages-within-d-days">10. <a href="https://leetcode.com/problems/capacity-to-ship-packages-within-d-days/description/">Capacity to Ship Packages Within D Days</a></h3>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Pattern Alert:
</div>
</div>
<div class="callout-body-container callout-body">
<p>This is an important type of problem that you can solve using binary search plus sorting. In this pattern, you want to find the maximum of some minimum quantities, or the minimum of some maximum quantities. The general approach to solve these problems is:</p>
<ul>
<li>Find the range of the solution</li>
<li>Binary search through the it</li>
</ul>
</div>
</div>
<div class="sourceCode" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Solution:</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> shipWithinDays(<span class="va">self</span>, weights: List[<span class="bu">int</span>], days: <span class="bu">int</span>) <span class="op">-&gt;</span> <span class="bu">int</span>:</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Take minimum possible and maximum possible answers as left and right</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>        left, right <span class="op">=</span> <span class="bu">max</span>(weights), <span class="bu">sum</span>(weights)</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>        ans <span class="op">=</span> right</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Binary search like implementation</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>        <span class="cf">while</span> left <span class="op">&lt;=</span> right:</span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>            weight_capacity <span class="op">=</span> ( left <span class="op">+</span> right ) <span class="op">//</span> <span class="dv">2</span></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>            day_count <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>            curr_load <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>            <span class="co"># For a given weight_capacity, find it's answer</span></span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>            <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="bu">len</span>(weights)):</span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>                weight <span class="op">=</span> weights[i]</span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a>                <span class="cf">if</span> curr_load <span class="op">+</span> weight <span class="op">&lt;=</span> weight_capacity:</span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a>                    curr_load <span class="op">+=</span> weight</span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a>                    <span class="cf">if</span> i <span class="op">==</span> <span class="bu">len</span>(weights) <span class="op">-</span> <span class="dv">1</span>:</span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a>                        day_count <span class="op">+=</span> <span class="dv">1</span></span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a>                <span class="cf">else</span>:</span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a>                    curr_load <span class="op">=</span> weight</span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true" tabindex="-1"></a>                    day_count <span class="op">+=</span> <span class="dv">1</span></span>
<span id="cb5-24"><a href="#cb5-24" aria-hidden="true" tabindex="-1"></a>                    <span class="cf">if</span> i <span class="op">==</span> <span class="bu">len</span>(weights) <span class="op">-</span> <span class="dv">1</span>:</span>
<span id="cb5-25"><a href="#cb5-25" aria-hidden="true" tabindex="-1"></a>                        day_count <span class="op">+=</span> <span class="dv">1</span></span>
<span id="cb5-26"><a href="#cb5-26" aria-hidden="true" tabindex="-1"></a>            <span class="co"># Binary search logic</span></span>
<span id="cb5-27"><a href="#cb5-27" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> day_count <span class="op">&gt;</span> days:</span>
<span id="cb5-28"><a href="#cb5-28" aria-hidden="true" tabindex="-1"></a>                left <span class="op">=</span> weight_capacity <span class="op">+</span> <span class="dv">1</span></span>
<span id="cb5-29"><a href="#cb5-29" aria-hidden="true" tabindex="-1"></a>            <span class="cf">else</span>:</span>
<span id="cb5-30"><a href="#cb5-30" aria-hidden="true" tabindex="-1"></a>                ans <span class="op">=</span> <span class="bu">min</span>(ans, weight_capacity)</span>
<span id="cb5-31"><a href="#cb5-31" aria-hidden="true" tabindex="-1"></a>                right <span class="op">=</span> weight_capacity <span class="op">-</span> <span class="dv">1</span></span>
<span id="cb5-32"><a href="#cb5-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-33"><a href="#cb5-33" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> ans</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<hr>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "î§‹";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js"></script>




</body></html>